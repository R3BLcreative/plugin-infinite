const inlineBtns=document.querySelectorAll(".edit-inline-btn");inlineBtns.length>0&&inlineBtns.forEach((e=>{const t=e.dataset.slug,a=t+"-form",n=t+"-display",l=document.getElementById(a),d=document.getElementById(n);e.onclick=function(){"false"===e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","true"),l.classList.remove("hidden"),l.classList.add("block"),d.classList.remove("block"),d.classList.add("hidden")):(e.setAttribute("aria-expanded","false"),l.classList.remove("block"),l.classList.add("hidden"),d.classList.remove("hidden"),d.classList.add("block"))}}));const modalBtns=document.querySelectorAll(".edit-modal-btn");modalBtns.length>0&&modalBtns.forEach((e=>{const t=e.dataset.slug+"-form",a=document.getElementById(t),n=t+"-close",l=document.getElementById(n);e.onclick=function(){a.style.display="block"},l.onclick=function(){a.style.display="none"},window.onclick=function(e){e.target==a&&(a.style.display="none")}}));const toggleSwitch=e=>{const t="true"===e.getAttribute("aria-checked"),a=e.querySelector("#value-unchecked"),n=e.querySelector("#value-checked");a.checked=t,n.checked=!t,e.setAttribute("aria-checked",!t)},getFilterValues=async e=>{const t=e.parentNode.parentNode.querySelector('select[name="filterval"]'),a=e.value,n=e.dataset.screen+"_getFilterValues",l=aap_ajax_obj.ajaxurl+"&action="+n+"&filterby="+a,d=await fetch(l),i=await d.json(),c=document.createDocumentFragment();let o=document.createElement("option");o.disabled=!0,o.value=0,o.selected=!0,o.innerHTML="---",c.appendChild(o),i.map((e=>{let t=document.createElement("option");t.value=e,t.innerHTML=e,c.appendChild(t)})),t.replaceChildren(c)},countListViewSelected=()=>{const e=document.querySelectorAll('input[type="checkbox"]:checked.list-view-row-selectors').length;document.querySelector("#list-view-selected-counter").innerHTML=e},handleListViewAction=e=>{const t=e.dataset.record,a=e.dataset.action,n=e.dataset.verify,l=aap_ajax_obj.ajaxurl+"&action="+a+"&ID="+t;n&&buildModalINF({showModalTitle:!0,modalTitle:"Confirm Action",showModalActions:!0,modalContent:"Are you sure you want to do this?",confirmed:l})},modalActionsClickHandler=async({currentTarget:e})=>{let t=null;switch(e.dataset.action){case"backdrop":e.parentNode&&e.parentNode.removeChild(e);break;case"confirm":const a=e.dataset.url;console.log(a),t=e.parentNode.parentNode.parentNode,t.parentNode&&t.parentNode.removeChild(t);await fetch(a);location.reload();break;case"close":case"cancel":t=e.parentNode.parentNode.parentNode,t.parentNode&&t.parentNode.removeChild(t)}},buildModalINF=async({showModalTitle:e=!1,showModalActions:t=!1,modalTitle:a=null,modalContent:n=null,confirmed:l=null}={})=>{const d=await fetch(aap_ajax_obj.ajaxurl+"&action=aap_get_icons&icons[]=close&icons[]=cancel&icons[]=check"),i=(await d.json()).data;var c=document.createElement("div");c.setAttribute("id","modal-backdrop"),c.setAttribute("data-action","backdrop"),c.addEventListener("click",modalActionsClickHandler),c.classList.add("fixed","top-0","left-0","w-full","h-full","z-[9999]","bg-surface-500/50","flex","items-start","justify-center","px-6","pt-[150px]","pb-6","backdrop-blur-sm");var o=document.createElement("div");o.setAttribute("id","modal-wrapper"),o.classList.add("w-1/4","p-6","bg-surface-800","rounded-lg","border","border-surface-500","shadow-inner","text-white","flex","flex-col","items-stretch","justify-stretch","gap-6");var s=document.createElement("div");s.setAttribute("id","modal-title-bar"),s.classList.add("flex","items-center","justify-between","gap-6");var r=document.createElement("h1");r.setAttribute("id","modal-title"),r.classList.add("font-semibold","text-white","text-lg","tracking-wider"),r.innerHTML=a,e||r.classList.add("invisible"),s.appendChild(r);var u=document.createElement("button");u.setAttribute("type","button"),u.setAttribute("id","modal-close"),u.setAttribute("data-action","close"),u.addEventListener("click",modalActionsClickHandler),u.classList.add("fill-primary","w-6","hover:fill-secondary"),u.innerHTML='<i class="w-6">'+i.close+"</i>",s.appendChild(u),o.appendChild(s);var m=document.createElement("div");if(m.setAttribute("id","modal-content"),m.classList.add("leading-relaxed","text-center"),m.innerHTML=n,o.appendChild(m),t){var p=document.createElement("div");p.setAttribute("id","modal-actions"),p.classList.add("flex","items-center","justify-center","gap-10","mt-6");var b=document.createElement("button");b.setAttribute("type","button"),b.setAttribute("id","modal-cancel"),b.setAttribute("data-action","cancel"),b.classList.add("aap-button","btn-alt"),b.innerHTML='<i class="w-6">'+i.cancel+"</i>Cancel",b.addEventListener("click",modalActionsClickHandler),p.appendChild(b);var h=document.createElement("button");h.setAttribute("type","button"),h.setAttribute("id","modal-confirm"),h.setAttribute("data-action","confirm"),h.setAttribute("data-url",l),h.classList.add("aap-button","btn-primary"),h.innerHTML='<i class="w-6">'+i.check+"</i>Confirm",h.addEventListener("click",modalActionsClickHandler),p.appendChild(h),o.appendChild(p)}c.appendChild(o);document.querySelector("#aap-content").appendChild(c)};